"use strict";(self.webpackChunkuserguide=self.webpackChunkuserguide||[]).push([[36485],{3905:function(e,r,n){n.d(r,{Zo:function(){return p},kt:function(){return d}});var t=n(67294);function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function l(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?l(Object(n),!0).forEach((function(r){a(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function u(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=t.createContext({}),o=function(e){var r=t.useContext(s),n=r;return e&&(n="function"==typeof e?e(r):i(i({},r),e)),n},p=function(e){var r=o(e.components);return t.createElement(s.Provider,{value:r},e.children)},m={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},c=t.forwardRef((function(e,r){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,p=u(e,["components","mdxType","originalType","parentName"]),c=o(n),d=a,k=c["".concat(s,".").concat(d)]||c[d]||m[d]||l;return n?t.createElement(k,i(i({ref:r},p),{},{components:n})):t.createElement(k,i({ref:r},p))}));function d(e,r){var n=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=c;var u={};for(var s in r)hasOwnProperty.call(r,s)&&(u[s]=r[s]);u.originalType=e,u.mdxType="string"==typeof e?e:a,i[1]=u;for(var o=2;o<l;o++)i[o]=n[o];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}c.displayName="MDXCreateElement"},13919:function(e,r,n){function t(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!t(e)}n.d(r,{b:function(){return t},Z:function(){return a}})},44996:function(e,r,n){n.d(r,{C:function(){return l},Z:function(){return i}});var t=n(52263),a=n(13919);function l(){var e=(0,t.Z)().siteConfig,r=(e=void 0===e?{}:e).baseUrl,n=void 0===r?"/":r,l=e.url;return{withBaseUrl:function(e,r){return function(e,r,n,t){var l=void 0===t?{}:t,i=l.forcePrependBaseUrl,u=void 0!==i&&i,s=l.absolute,o=void 0!==s&&s;if(!n)return n;if(n.startsWith("#"))return n;if((0,a.b)(n))return n;if(u)return r+n;var p=n.startsWith(r)?n:r+n.replace(/^\//,"");return o?e+p:p}(l,n,e,r)}}}function i(e,r){return void 0===r&&(r={}),(0,l().withBaseUrl)(e,r)}},86256:function(e,r,n){n.r(r),n.d(r,{frontMatter:function(){return s},contentTitle:function(){return o},metadata:function(){return p},toc:function(){return m},default:function(){return d}});var t=n(83117),a=n(80102),l=(n(67294),n(3905)),i=n(44996),u=["components"],s={},o=void 0,p={unversionedId:"\u7cfb\u7edf\u6269\u5c55\u6307\u5357/\u6269\u5c55\u4f8b\u5b50",id:"version-4.0.2/\u7cfb\u7edf\u6269\u5c55\u6307\u5357/\u6269\u5c55\u4f8b\u5b50",isDocsHomePage:!1,title:"\u6269\u5c55\u4f8b\u5b50",description:"\u7ec8\u7aef\u811a\u672c",source:"@site/versioned_docs/version-4.0.2/\u7cfb\u7edf\u6269\u5c55\u6307\u5357/\u6269\u5c55\u4f8b\u5b50.md",sourceDirName:"\u7cfb\u7edf\u6269\u5c55\u6307\u5357",slug:"/\u7cfb\u7edf\u6269\u5c55\u6307\u5357/\u6269\u5c55\u4f8b\u5b50",permalink:"/docs/4.0.2/\u7cfb\u7edf\u6269\u5c55\u6307\u5357/\u6269\u5c55\u4f8b\u5b50",editUrl:"https://github.com/iDongMobility/imgenius-docs/edit/master/versioned_docs/version-4.0.2/\u7cfb\u7edf\u6269\u5c55\u6307\u5357/\u6269\u5c55\u4f8b\u5b50.md",tags:[],version:"4.0.2",lastUpdatedAt:1619677421,formattedLastUpdatedAt:"4/29/2021",frontMatter:{},sidebar:"version-4.0.2/someSidebar",previous:{title:"\u7ec8\u7aef\u9875\u9762\u6269\u5c55\u5f00\u53d1",permalink:"/docs/4.0.2/\u7cfb\u7edf\u6269\u5c55\u6307\u5357/\u7ec8\u7aef\u9875\u9762\u6269\u5c55\u5f00\u53d1"},next:{title:"\u4e0e\u81ea\u63a7\u7cfb\u7edf\u96c6\u6210\u4f8b\u5b50",permalink:"/docs/4.0.2/\u7cfb\u7edf\u6269\u5c55\u6307\u5357/\u4e0e\u81ea\u63a7\u7cfb\u7edf\u96c6\u6210\u4f8b\u5b50"}},m=[{value:"\u7ec8\u7aef\u811a\u672c",id:"\u7ec8\u7aef\u811a\u672c",children:[{value:"\u6253\u5f00\u4f5c\u4e1a\u7ec4\u76f4\u63a5\u8df3\u5230\u6307\u5b9a\u4f5c\u4e1a",id:"\u6253\u5f00\u4f5c\u4e1a\u7ec4\u76f4\u63a5\u8df3\u5230\u6307\u5b9a\u4f5c\u4e1a",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801",children:[],level:4}],level:3}],level:2},{value:"Web\u7aef\u811a\u672c",id:"web\u7aef\u811a\u672c",children:[{value:"\u5f97\u5230\u8d44\u4ea7\u7684\u6240\u6709\u5b50\u5b59\uff0c\u8fd4\u56de\u8d44\u4ea7\u540d\u7684\u5217\u8868",id:"\u5f97\u5230\u8d44\u4ea7\u7684\u6240\u6709\u5b50\u5b59\u8fd4\u56de\u8d44\u4ea7\u540d\u7684\u5217\u8868",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-1",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-1",children:[],level:4}],level:3},{value:"\u5f97\u5230\u56fa\u5b9a\u7ec4\u7ec7\u5355\u5143\u7684\u76f4\u63a5\u513f\u5b50\uff0c\u6b64\u5916\u52a0\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u5217\u8868",id:"\u5f97\u5230\u56fa\u5b9a\u7ec4\u7ec7\u5355\u5143\u7684\u76f4\u63a5\u513f\u5b50\u6b64\u5916\u52a0\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\u8fd4\u56de\u5217\u8868",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-2",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-2",children:[],level:4}],level:3},{value:"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u767b\u5f55\u4eba\u7ec4\u7ec7\u5355\u5143\uff0c\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0\uff0c\u6240\u6709\u4eba\u5217\u8868",id:"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u767b\u5f55\u4eba\u7ec4\u7ec7\u5355\u5143\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0\u6240\u6709\u4eba\u5217\u8868",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-3",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-3",children:[],level:4}],level:3},{value:"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u4f5c\u4e1a\u7ec4\u7ec4\u7ec7\u5355\u5143\uff0c\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0\uff0c \u6240\u6709\u4eba\u5217\u8868",id:"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u4f5c\u4e1a\u7ec4\u7ec4\u7ec7\u5355\u5143\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0-\u6240\u6709\u4eba\u5217\u8868",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-4",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-4",children:[],level:4}],level:3},{value:"\u6839\u636e\u540d\u79f0\u627e\u5230\u5bf9\u5e94\u8d44\u4ea7\uff0c\u5c06\u6b64\u8d44\u4ea7\u7684\u67d0\u4e00\u5c5e\u6027\u66f4\u65b0\u5230\u53e6\u4e00\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u91cc",id:"\u6839\u636e\u540d\u79f0\u627e\u5230\u5bf9\u5e94\u8d44\u4ea7\u5c06\u6b64\u8d44\u4ea7\u7684\u67d0\u4e00\u5c5e\u6027\u66f4\u65b0\u5230\u53e6\u4e00\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u91cc",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-5",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-5",children:[],level:4}],level:3},{value:"\u6839\u636e\u4eba\u5458\u540d\u79f0\u67e5\u627e\u4eba\u5458\u67d0\u4e00\u5c5e\u6027\uff08\u66f4\u591a\u5c5e\u6027\uff09\u66f4\u65b0\u5230\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027",id:"\u6839\u636e\u4eba\u5458\u540d\u79f0\u67e5\u627e\u4eba\u5458\u67d0\u4e00\u5c5e\u6027\u66f4\u591a\u5c5e\u6027\u66f4\u65b0\u5230\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-6",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-6",children:[],level:4}],level:3},{value:"\u6309\u7167\u5217\u8868\u540d\u5f97\u5230\u5217\u8868\u9879",id:"\u6309\u7167\u5217\u8868\u540d\u5f97\u5230\u5217\u8868\u9879",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-7",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-7",children:[],level:4}],level:3},{value:"\u6309\u7167id\u5f97\u5230\u5217\u8868\u9879\u7684\u540d\u79f0",id:"\u6309\u7167id\u5f97\u5230\u5217\u8868\u9879\u7684\u540d\u79f0",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-8",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-8",children:[],level:4}],level:3},{value:"\u9000\u6599\u660e\u7ec6 - \u5b9e\u9645\u9000\u6599 = \u9000\u6599\u5dee\u989d",id:"\u9000\u6599\u660e\u7ec6---\u5b9e\u9645\u9000\u6599--\u9000\u6599\u5dee\u989d",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-9",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-9",children:[],level:4}],level:3},{value:"\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3ajson\uff0c\u64cd\u4f5c\u9879\u4e0b\u6709\u6807\u51c6\u4ef7\u683c\u5e76\u4e14\u5927\u4e8e200\u65f6\uff0c\u66f4\u65b0\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3a&#39;\u662f&#39;",id:"\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3ajson\u64cd\u4f5c\u9879\u4e0b\u6709\u6807\u51c6\u4ef7\u683c\u5e76\u4e14\u5927\u4e8e200\u65f6\u66f4\u65b0\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3a\u662f",children:[{value:"\u9700\u6c42\u63cf\u8ff0",id:"\u9700\u6c42\u63cf\u8ff0-10",children:[],level:4},{value:"\u811a\u672c\u4ee3\u7801",id:"\u811a\u672c\u4ee3\u7801-10",children:[],level:4}],level:3}],level:2}],c={toc:m};function d(e){var r=e.components,n=(0,a.Z)(e,u);return(0,l.kt)("wrapper",(0,t.Z)({},c,n,{components:r,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u7ec8\u7aef\u811a\u672c"},"\u7ec8\u7aef\u811a\u672c"),(0,l.kt)("h3",{id:"\u6253\u5f00\u4f5c\u4e1a\u7ec4\u76f4\u63a5\u8df3\u5230\u6307\u5b9a\u4f5c\u4e1a"},"\u6253\u5f00\u4f5c\u4e1a\u7ec4\u76f4\u63a5\u8df3\u5230\u6307\u5b9a\u4f5c\u4e1a"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u4f5c\u4e1a\u7ec4\u4e2d\u6839\u636e\u6307\u5b9a\u7684\u4f5c\u4e1a\u540d\u8df3\u8f6c\u5230\u8be5\u4f5c\u4e1a"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u914d\u7f6e\u903b\u8f91\u4e2d\u7684\u811a\u672c\uff0c\u4e0d\u652f\u6301\u6253\u5f00\u811a\u672c\u3001\u5173\u95ed\u811a\u672c\u53ca\u663e\u793a\u540e\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\nvar curAllTasks = ScriptEngine.Context.GetCurTasks();\nif (curAllTasks && curAllTasks.length > 0) {\n    var needJumpTask = _.find(curAllTasks, function(_task){\n        return _task.Name == '\u8df3\u8f6c\u7684\u4f5c\u4e1a\u540d';\n    });\n    if(needJumpTask){\n        page.executeTaskTree.JumpTask(needJumpTask);        \n    }\n}\nreturn true;\n\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u5f85\u6267\u884c\uff0c\u6267\u884c\u4e2d\u7684\u4f5c\u4e1a\u7ec4\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\nvar curAllTasks = ScriptEngine.Context.GetCurTasks();\nif (curAllTasks && curAllTasks.length > 0) {\n    var needJumpTask = _.find(curAllTasks,function(_task){\n        return _task.Name == '\u8df3\u8f6c\u7684\u4f5c\u4e1a\u540d';\n    });\n    if (needJumpTask) {\n        var taskGroup = ScriptEngine.Context.curTaskGroup;\n        if (taskGroup.Status != JobStatus.New) {\n            GlobalInfo.SetTaskGroupTaskParentID(taskGroup.ID, taskGroup.SequenceID, needJumpTask.ParentTaskID);\n            GlobalInfo.SetTaskGroupTaskID(taskGroup.ID, taskGroup.SequenceID, needJumpTask.ID);\n        }\n    }\n}\nreturn true;\n\n")),(0,l.kt)("h2",{id:"web\u7aef\u811a\u672c"},"Web\u7aef\u811a\u672c"),(0,l.kt)("h3",{id:"\u5f97\u5230\u8d44\u4ea7\u7684\u6240\u6709\u5b50\u5b59\u8fd4\u56de\u8d44\u4ea7\u540d\u7684\u5217\u8868"},"\u5f97\u5230\u8d44\u4ea7\u7684\u6240\u6709\u5b50\u5b59\uff0c\u8fd4\u56de\u8d44\u4ea7\u540d\u7684\u5217\u8868"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-1"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u6839\u636e\u6307\u5b9a\u7684\u8d44\u4ea7\u540d\u5f97\u5230\u5176\u6240\u6709\u5b50\u5b59\uff0c\u8fd4\u56de\u8d44\u4ea7\u540d\u7684\u5217\u8868"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-1"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u53ef\u9009\u9879\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var resultName = ScriptEngine.GetResultName();\nvar assetNames = [];\nScriptEngine.GetAssets('aaaaa', true, false, function (_result) {   //'aaaaa'\u4e3a\u8d44\u4ea7\u540d\n    if (_result && _result.length > 0) {\n        for (var i = 0; i < _result.length; i++) {\n            assetNames.push({ 'ID': _result[i].ID, 'Name': _result[i].Name });\n        }\n    }\n    ScriptEngine[resultName] = assetNames;\n});\n\nreturn { 'ResultName': resultName };\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben1.png")}),(0,l.kt)("h3",{id:"\u5f97\u5230\u56fa\u5b9a\u7ec4\u7ec7\u5355\u5143\u7684\u76f4\u63a5\u513f\u5b50\u6b64\u5916\u52a0\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\u8fd4\u56de\u5217\u8868"},"\u5f97\u5230\u56fa\u5b9a\u7ec4\u7ec7\u5355\u5143\u7684\u76f4\u63a5\u513f\u5b50\uff0c\u6b64\u5916\u52a0\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u5217\u8868"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-2"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u5f97\u5230\u56fa\u5b9a\u7ec4\u7ec7\u5355\u5143\u4e0b\u6240\u6709\u7684\u76f4\u63a5\u513f\u5b50\uff0c\u5e76\u5728\u540e\u9762\u52a0\u4e00\u4e2a\u56fa\u5b9a\u7684\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u6210\u5217\u8868"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-2"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u53ef\u9009\u9879\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var field = '*';  //\u56fa\u5b9a\u5b57\u7b26\u4e32\u53c2\u6570\nvar resultName = ScriptEngine.GetResultName();\nvar orgUnitNames = [];\nvar orgUnitName = '\u76d1\u7406\u961f';//\u53c2\u6570 \u7ec4\u7ec7\u5355\u5143\u540d\nScriptEngine.GetOrgUnits(orgUnitName, true, true, function (_result) {\n    if (_result && _result.length > 1) {//\u5f97\u5230\u7ed3\u679c\u7b2c\u4e00\u4e2a\u662f\u7ec4\u7ec7\u5355\u5143\u672c\u8eab\uff0c\u53ea\u9700\u513f\u5b50\uff0c\u5219\u4ece\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\n        for (var i = 1; i < _result.length; i++) {\n            orgUnitNames.push({ 'ID': _result[i].ID, 'Name': _result[i].Name + field});\n        }\n    }\n    ScriptEngine[resultName] = orgUnitNames;\n});\n\nreturn { 'ResultName': resultName };\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben2.png")}),(0,l.kt)("h3",{id:"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u767b\u5f55\u4eba\u7ec4\u7ec7\u5355\u5143\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0\u6240\u6709\u4eba\u5217\u8868"},"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u767b\u5f55\u4eba\u7ec4\u7ec7\u5355\u5143\uff0c\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0\uff0c\u6240\u6709\u4eba\u5217\u8868"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-3"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u5f53\u524d\u767b\u5f55\u7528\u6237\u7ec4\u7ec7\u5355\u5143\uff0c\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0\uff0c\u8fd4\u56de\u6ee1\u8db3\u6761\u4ef6\u7684\u6240\u6709\u4eba\u7684\u5217\u8868"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-3"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u53ef\u9009\u9879\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var postName = '\u76d1\u7406\u5458';\nvar resultName = ScriptEngine.GetResultName();\nvar users = [];\nScriptEngine.GetLoginUser(function (_curLoginUser) {\n    if (_curLoginUser) {\n        var curUserID = _curLoginUser.UserID?_curLoginUser.UserID:_curLoginUser.ID;\n        var sql = 'select id,bi_name as Name from [User] where ai_deleted=\\'0\\'  and id in(\\\n                    select userid from userrolegroup where orgunitID in(\\\n                        SELECT DISTINCT ID FROM H_OrgUnitRelation WHERE ParentID in(select orgunitid from userrolegroup where userid=\\'' + curUserID + '\\')\\\n                    or orgunitid IN(select orgunitid from userrolegroup where userid=\\''+ curUserID + '\\'))\\\n                    and roleid in(select id from role where bi_name=\\'' + postName + '\\' and ai_deleted=\\'0\\')) order by bi_name';    \n        ScriptEngine.GetAjaxToApiServer('Sql', 'GetDataSetBySQL', 'sql=' + sql, null, 'POST', function (_result) {\n        if (_result && _result.Rows && _result.Rows.length > 0) {\n                for (var i = 0; i < _result.Rows.length; i++) {\n                    users.push({ ID: _result.Rows[i].Cells[0], Name: _result.Rows[i].Cells[1] });\n                }\n                ScriptEngine[resultName] = users;\n\n            } else {\n                ScriptEngine[resultName] = users;\n            }\n        });\n\n    } else {\n        ScriptEngine[resultName] = users;\n    }\n});\nreturn { 'ResultName': resultName };\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben3.png")}),(0,l.kt)("h3",{id:"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u4f5c\u4e1a\u7ec4\u7ec4\u7ec7\u5355\u5143\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0-\u6240\u6709\u4eba\u5217\u8868"},"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u4f5c\u4e1a\u7ec4\u7ec4\u7ec7\u5355\u5143\uff0c\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0\uff0c \u6240\u6709\u4eba\u5217\u8868"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-4"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u7ec4\u7ec7\u5355\u5143\u5c5e\u4e8e\u4f5c\u4e1a\u7ec4\u7684\u7ec4\u7ec7\u5355\u5143\uff0c\u5c97\u4f4d\u4e3a\u56fa\u5b9a\u540d\u79f0\uff0c\u8fd4\u56de\u6ee1\u8db3\u6761\u4ef6\u7684\u6240\u6709\u4eba\u7684\u5217\u8868"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-4"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u53ef\u9009\u9879\u811a\u672c\uff08\u8ba1\u5212\u548c\u521b\u5efa\u6d3b\u52a8\u4e0d\u9002\u7528\uff09")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var postName = '\u76d1\u7406\u5458';\nvar taskGroupProperyName = '\u5e93\u5b58';    // \u540e\u7eed\u4ee3\u7801\u4f1a\u6839\u636e\u8fd9\u4e2a\u5c5e\u6027\u83b7\u53d6\u5f53\u524d\u4f5c\u4e1a\u7ec4\nvar users = [];\nvar taskgroupProperty = ScriptEngine.Context.GetTaskGroupProperty(taskGroupProperyName);\nif (taskgroupProperty) {\n    var resultName = ScriptEngine.GetResultName();\n    var sql = 'select DISTINCT id,bi_name as Name from [User] where ai_deleted=\\'0\\' \\\n    and id in(\\\n        select userid from userrolegroup where orgunitID in(\\\n            SELECT DISTINCT ID FROM H_OrgUnitRelation WHERE ParentID in(select OrgUnitID from taskGroupEntity where id IN(select TaskGroupID from TaskGroupProperty where ID=\\''+ taskgroupProperty.ID + '\\'))\\\n        ) or orgunitid IN(select OrgUnitID from taskGroupEntity where id IN(select TaskGroupID from TaskGroupProperty where ID=\\''+ taskgroupProperty.ID + '\\'))    \\\n        and roleid in(select id from role where bi_name=\\''+ postName + '\\' and ai_deleted=\\'0\\')\\\n    ) order by bi_name';\n    ScriptEngine.GetAjaxToApiServer('Sql', 'GetDataSetBySQL', 'sql=' + sql, null, 'POST', function (_result) {\n        if (_result && _result.Rows && _result.Rows.length > 0) {\n            for (var i = 0; i < _result.Rows.length; i++) {\n                users.push({ ID: _result.Rows[i].Cells[0], Name: _result.Rows[i].Cells[1] });\n            }\n            ScriptEngine[resultName] = users;\n\n        } else {\n            ScriptEngine[resultName] = users;\n        }\n    });\n    return { 'ResultName': resultName };\n} else {\n    console.error('\u5c5e\u6027\u4e0d\u5b58\u5728\uff1a' + taskGroupProperyName);\n    return users;\n}\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben4.png")}),(0,l.kt)("h3",{id:"\u6839\u636e\u540d\u79f0\u627e\u5230\u5bf9\u5e94\u8d44\u4ea7\u5c06\u6b64\u8d44\u4ea7\u7684\u67d0\u4e00\u5c5e\u6027\u66f4\u65b0\u5230\u53e6\u4e00\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u91cc"},"\u6839\u636e\u540d\u79f0\u627e\u5230\u5bf9\u5e94\u8d44\u4ea7\uff0c\u5c06\u6b64\u8d44\u4ea7\u7684\u67d0\u4e00\u5c5e\u6027\u66f4\u65b0\u5230\u53e6\u4e00\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u91cc"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-5"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u6839\u636e\u540d\u79f0\u627e\u5230\u5bf9\u5e94\u8d44\u4ea7\uff0c\u8d44\u4ea7\u540d\u552f\u4e00\uff0c\u5c06\u6b64\u8d44\u4ea7\u7684\u67d0\u4e00\u5c5e\u6027\u7684\u503c\u66f4\u65b0\u5230\u53e6\u4e00\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u91cc"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-5"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u4fee\u6539\u503c\u4e8b\u4ef6\u540e\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var assetName = '\u9600\u95e811';\nvar assetPropertyName = '\u72b6\u6001\u5b57\u7b26\u4e32';\nvar taskGroupPropertyName = '\u9600\u95e811\u7684\u72b6\u6001\u5b57\u7b26\u4e32';\nvar urlParameters = 'parentID=invalid&name=' + assetName;\nScriptEngine.GetAjaxToApiServer('Asset','GetByName',urlParameters,null,'get',function(_result){\n    var asset = _result;\n    if(asset){\n        urlParameters = 'assetID='+asset.ID+'&propertyName=' + assetPropertyName;\n        ScriptEngine.GetAjaxToApiServer('Asset','GetAssetProperty',urlParameters,null,'get',function(_result){\n            var assetProperty = _result;\n            if(assetProperty){\n                ScriptEngine.Context.SetTaskGroupPropertyValue(taskGroupPropertyName,assetProperty.CurrentValue);           \n            }\n            else{\n                console.error('\u8d44\u4ea7\u5c5e\u6027\u4e0d\u5b58\u5728\uff1a' + assetName +'.' + assetPropertyName);\n            }\n        });\n    }else{\n        console.error('\u8d44\u4ea7\u4e0d\u5b58\u5728:' + assetName);\n    }\n});\nreturn true;\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben5.png")}),(0,l.kt)("h3",{id:"\u6839\u636e\u4eba\u5458\u540d\u79f0\u67e5\u627e\u4eba\u5458\u67d0\u4e00\u5c5e\u6027\u66f4\u591a\u5c5e\u6027\u66f4\u65b0\u5230\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027"},"\u6839\u636e\u4eba\u5458\u540d\u79f0\u67e5\u627e\u4eba\u5458\u67d0\u4e00\u5c5e\u6027\uff08\u66f4\u591a\u5c5e\u6027\uff09\u66f4\u65b0\u5230\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-6"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u6839\u636e\u4eba\u5458\u7684\u540d\u79f0\u67e5\u627e\u8be5\u4eba\u5458\u66f4\u591a\u5c5e\u6027\u4e2d\u7684\u67d0\u4e00\u5c5e\u6027\uff0c\u5c06\u6b64\u5c5e\u6027\u503c\u66f4\u65b0\u5230\u53e6\u4e00\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u91cc"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-6"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u4fee\u6539\u503c\u4e8b\u4ef6\u540e\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var userName = 'a11\u7532\u73ed\u76d1\u7406\u5458';\nvar userPropertyName = '\u8d44\u8d28';\nvar taskGroupPropertyName = '\u4eba\u5458\u5c5e\u6027\u7684\u503c';\nvar urlParameters = 'parentID=invalid&name=' + userName;\nScriptEngine.GetAjaxToApiServer('UserConfig','GetByName',urlParameters,null,'get',function(_result){\n    var user = _result; \n    if(user){\n        var customProperties = user.CustomProperty;\n        if(customProperties){\n            customProperties = JSON.parse(customProperties);\n            var property = _.find(customProperties,function(_item){return _item.Name==userPropertyName;});\n            if(property){\n                ScriptEngine.Context.SetTaskGroupPropertyValue(taskGroupPropertyName,property.Value);\n            }\n            else{\n                console.error('\u4eba\u5458\u6269\u5c55\u5c5e\u6027\u4e0d\u5b58\u5728:' + userName + '.' + userPropertyName);\n            }\n        }\n        else{\n            console.error('\u4eba\u5458\u6ca1\u6709\u6269\u5c55\u5c5e\u6027:' + userName);\n        }\n    }else{\n        console.error('\u4eba\u5458\u4e0d\u5b58\u5728:' + userName);\n    }\n});\nreturn true;\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben6.png")}),(0,l.kt)("h3",{id:"\u6309\u7167\u5217\u8868\u540d\u5f97\u5230\u5217\u8868\u9879"},"\u6309\u7167\u5217\u8868\u540d\u5f97\u5230\u5217\u8868\u9879"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-7"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u6309\u7167\u5217\u8868\u7684\u540d\u79f0\uff0c\u5f97\u5230\u8be5\u5217\u8868\u7684\u9879"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-7"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u53ef\u9009\u9879\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var\xa0resultName = ScriptEngine.GetResultName();\nvar\xa0responseItems = [];\nvar\xa0responseName =\xa0'\u5730\u533a';//\u53c2\u6570 \u81ea\u5b9a\u4e49\u5217\u8868\u540d\nconsole.log(responseName);\nvar urlParameters = 'parentID=&name=' + responseName;\nScriptEngine.GetAjaxToApiServer('UserDefinedList','GetByName',urlParameters,null,'get',function(_result){               \n    if(_result){\n        urlParameters = 'parentID=' + _result.ID;\n        ScriptEngine.GetAjaxToApiServer('UserDefinedList','GetChild',urlParameters,null,'get',function(_result){                \n            if(_result){\n                ScriptEngine[resultName]=_result;\n            }\n            else{\n                console.error('\u6ca1\u6709\u627e\u5230\u201c'+responseName+'\u201d\u7684\u5217\u8868\u9879');\n                ScriptEngine[resultName]=[];\n            }\n        });     \n    }\n    else{\n        console.error('\u6ca1\u6709\u627e\u5230\u201c'+responseName+'\u201d\u7684\u5217\u8868\u7c7b\u578b');\n        ScriptEngine[resultName]=[];\n    }\n});\nreturn\xa0{\xa0'ResultName':resultName};\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben7.png")}),(0,l.kt)("h3",{id:"\u6309\u7167id\u5f97\u5230\u5217\u8868\u9879\u7684\u540d\u79f0"},"\u6309\u7167id\u5f97\u5230\u5217\u8868\u9879\u7684\u540d\u79f0"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-8"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u6309\u7167\u5217\u8868\u9879\u7684id\u5f97\u5230\u5217\u8868\u9879\u7684\u540d\u79f0"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-8"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u53ef\u9009\u9879\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var\xa0resultName = ScriptEngine.GetResultName();\nvar\xa0responseItemID =\xa0'698DB607-ED42-4FC1-978A-144D410FC46C';\nvar\xa0list =\xa0[];\nScriptEngine.GetAjaxToApiServer('UserDefinedList','GetByID','id='+responseItemID,\xa0'','get',function(_result){\n\xa0if(_result){\n\xa0\xa0list.push({ 'ID': _result.ID, 'Name': _result.Name });\n\xa0}\n\xa0ScriptEngine[resultName] = list;\n});\n\nreturn\xa0{\xa0'ResultName':resultName};\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben8.png")}),(0,l.kt)("h3",{id:"\u9000\u6599\u660e\u7ec6---\u5b9e\u9645\u9000\u6599--\u9000\u6599\u5dee\u989d"},"\u9000\u6599\u660e\u7ec6 - \u5b9e\u9645\u9000\u6599 = \u9000\u6599\u5dee\u989d"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-9"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u9000\u6599\u660e\u7ec6 - \u5b9e\u9645\u9000\u6599 = \u9000\u6599\u5dee\u989d\uff0c\u90fd\u4e3ajson\u683c\u5f0f\u7684\u5e93\u5b58\u64cd\u4f5c\u5c5e\u6027\uff0c\u4ee5\u9000\u6599\u660e\u7ec6\u4e3a\u51c6\uff0c\u76f8\u540c\u7269\u6599\u7684\u6570\u91cf\u76f8\u51cf\uff0c\u6709\u5219\u51cf\u53bb\u5b9e\u9645\u9000\u6599\uff0c\u7ed3\u679c\u81ea\u52a8\u66f4\u65b0\u81f3\u9000\u6599\u5dee\u989d\uff0c\u9000\u6599\u5dee\u989d\u521d\u59cb\u503c\u4e3a\u7a7a"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-9"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u4fee\u6539\u503c\u4e8b\u4ef6\u540e\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var materialReturn = ScriptEngine.Context.GetTaskGroupPropertyValue('\u9000\u6599\u660e\u7ec6');\nvar realReturn = ScriptEngine.Context.GetTaskGroupPropertyValue('\u5b9e\u9645\u9000\u6599');\nif (materialReturn) {\n    var materialReturnObj = JSON.parse(materialReturn);\n    if(realReturn){\n        var realReturnObj = JSON.parse(realReturn);\n        if (materialReturnObj && materialReturnObj['\u64cd\u4f5c\u9879'] && realReturnObj && realReturnObj['\u64cd\u4f5c\u9879']) {\n            var materialReturnOperationItemList = materialReturnObj['\u64cd\u4f5c\u9879'];\n            var realReturnOperationItemList = realReturnObj['\u64cd\u4f5c\u9879'];\n            if (materialReturnOperationItemList && materialReturnOperationItemList.length > 0 && realReturnOperationItemList && realReturnOperationItemList.length > 0) {           \n                for (var i = 0; i < materialReturnOperationItemList.length; i++) {\n                    var materielName = materialReturnOperationItemList[i]['\u7269\u6599'];\n                    if (materielName) {\n                        var find = _.find(realReturnOperationItemList,function(_item){return _item['\u7269\u6599'] == materielName;});\n                        if(find && find['\u6570\u91cf']){\n                            materialReturnOperationItemList[i]['\u6570\u91cf'] = parseFloat(materialReturnOperationItemList[i]['\u6570\u91cf']) - parseFloat(find['\u6570\u91cf']) + '';\n                        }\n                    }\n                }\n                \n            }\n        }\n    }\n    var modifyValue = JSON.stringify(materialReturnObj);\n    ScriptEngine.Context.SetTaskGroupPropertyValue('\u9000\u6599\u5dee\u989d', modifyValue);\n}\nreturn true;\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben9.png")}),(0,l.kt)("h3",{id:"\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3ajson\u64cd\u4f5c\u9879\u4e0b\u6709\u6807\u51c6\u4ef7\u683c\u5e76\u4e14\u5927\u4e8e200\u65f6\u66f4\u65b0\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3a\u662f"},"\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3ajson\uff0c\u64cd\u4f5c\u9879\u4e0b\u6709\u6807\u51c6\u4ef7\u683c\u5e76\u4e14\u5927\u4e8e200\u65f6\uff0c\u66f4\u65b0\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3a'\u662f'"),(0,l.kt)("h4",{id:"\u9700\u6c42\u63cf\u8ff0-10"},"\u9700\u6c42\u63cf\u8ff0"),(0,l.kt)("p",null,"\u5f53\u524d\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3ajson\uff0c\u5176\u4e2d\u64cd\u4f5c\u9879\u4e0b\u6709\u6807\u51c6\u4ef7\u683c\uff0c\u5f53\u6807\u51c6\u4ef7\u683c\u5927\u4e8e200\u65f6\uff0c\u66f4\u65b0\u53e6\u4e00\u4e2a\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e3a\u5217\u8868\u9879\u7684'\u662f'"),(0,l.kt)("h4",{id:"\u811a\u672c\u4ee3\u7801-10"},"\u811a\u672c\u4ee3\u7801"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u9002\u7528\u4e8e\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u66f4\u591a\u8bbe\u7f6e\u4e2d\u7684\u4fee\u6539\u503c\u4e8b\u4ef6\u540e\u811a\u672c")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"var\xa0curTaskGroupPropertyName =\xa0'\u5e93\u5b58';\nvar modifyTaskGroupPropertyName = '\u662f\u5426\u5217\u8868';\nvar\xa0property = ScriptEngine.Context.GetTaskGroupProperty(curTaskGroupPropertyName);\nif(property){\n    if(property.Value){\n        var obj = JSON.parse(property.Value);\n        if(obj && obj['\u64cd\u4f5c\u9879'] && obj['\u64cd\u4f5c\u9879'].length>0){\n            var find = _.find(obj['\u64cd\u4f5c\u9879'],function(_item){ return _item['\u6807\u51c6\u4ef7\u683c'] && parseFloat(_item['\u6807\u51c6\u4ef7\u683c'])> 200 });\n            if(find){\n                var urlParameters = 'parentID=invalid&name=\u662f';\n                // \u83b7\u53d6\u540d\u5b57\u4e3a\u201c\u662f\u201d\u7684\u5217\u8868\u9879\uff08\u6ce8\u610f\uff1a\u5217\u8868\u9879\u540d\u5b57\u4e3a\u201c\u662f\u201d\u7684\u4e0d\u80fd\u6709\u591a\u4e2a\uff0c\u5426\u5219\u6709\u53ef\u80fd\u6765\u81ea\u4e8e\u4e0d\u540c\u7684\u5217\u8868\uff09\n                ScriptEngine.GetAjaxToApiServer('UserDefinedList','GetByName',urlParameters,null,'get',function(_result){               \n                    if(_result){\n                        ScriptEngine.Context.SetTaskGroupPropertyValue(modifyTaskGroupPropertyName,_result.ID);\n                    }\n                    else{\n                        console.error('\u6ca1\u6709\u627e\u5230\u201c\u662f\u201d\u7684\u5217\u8868\u9879');\n                    }\n                });         \n            }\n        }\n    }\n    else{\n        console.error('\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u503c\u4e3a\u7a7a\uff1a' + curTaskGroupPropertyName)\n    }\n}\nelse{\n    console.error('\u4f5c\u4e1a\u7ec4\u5c5e\u6027\u4e0d\u5b58\u5728\uff1a' + curTaskGroupPropertyName);\n}\nreturn true;\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6548\u679c\u5982\u56fe")),(0,l.kt)("img",{alt:" ",src:(0,i.Z)("docimg/jiaoben10.png")}))}d.isMDXComponent=!0}}]);